!function(e){function t(e,t){for(var a=Array.prototype.slice.call(arguments,2),n=e.split("."),o=n.pop(),i=0;i<n.length;i++)t=t[n[i]];return t[o].apply(t,a)}Drupal.behaviors.typeahead={attach:function(a,n){n.typeahead=n.typeahead||Drupal.settings.typeahead;n.typeahead.selector;e(".tt-enable",a).once("typeahead",function(){for(var a=e.extend({},n.typeahead.options),o=function(a){var n=[],o=e(a).attr("id");e(a).hasClass("tt-menu-search")&&(o="typeahead_menu");var i=Drupal.settings.typeahead.settings[o];for(var l in i){var r,s="value";void 0!==i[l].options.displayKey&&(s=i[l].options.displayKey);var p={datumTokenizer:Bloodhound.tokenizers.obj.whitespace(s),queryTokenizer:Bloodhound.tokenizers.whitespace};if(void 0!==i[l].options.limit&&(p.limit=i[l].options.limit),"local values"==i[l].type)p.local=i[l].values;else if("local callback"==i[l].type){var u=i[l];p.local=function(e){return function(){return t(e.localCallback,window,a,e)}}(u)}else"prefetch"==i[l].type?p.prefetch={url:i[l].prefetch}:"remote"==i[l].type&&(p.remote={url:i[l].url,filter:function(e){return t(i[l].remote_callback,window,e)}});if(Drupal.settings.typeahead.settings[o][l].Bloodhound=new Bloodhound(p),Drupal.settings.typeahead.settings[o][l].Bloodhound.initialize(),r={source:Drupal.settings.typeahead.settings[o][l].Bloodhound.ttAdapter()},void 0!==i[l].options&&(r=e.extend(r,i[l].options)),void 0!==i[l].templates)for(var d in r.templates={},i[l].templates)r.templates[d]=function(e,a){return function(){return t(i[l].templates[d],window,arguments[0],e,a)}}(i[l],a);n.push(r)}return n}(this),i=0;i<o.length;i++)"minLength"in o[i]&&(a.minLength=o[i].minLength);e(this).typeahead(a,o)})}}}(jQuery);
